<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>14 多物体使用同一个运动框架</title>
	<style>
		.demo{
			width: 100px;
			height: 50px;
			margin-bottom: 10px;
			border: 1px solid #000;
			background-color: #f00;
		}
	</style>
	<script>



		function startMove(obj, attr, iTarget) {

			function getStyle(obj, attr) {
				
				if (obj.currentStyle) {
					// IE
					return obj.currentStyle[attr];
				} else {
					//FF
					return getComputedStyle(obj)[attr];
				}

			}
			clearInterval(obj.timmer);

			obj.timmer = setInterval(function () {
				var iSpeed = (iTarget - parseInt(getStyle(obj, attr)))/8;

				iSpeed > 0 ? iSpeed = Math.ceil(iSpeed) : iSpeed = Math.floor(iSpeed);


				if (parseInt(getStyle(obj, attr)) == iTarget) {
					clearInterval(obj.timmer);
				} else {
					obj.style[attr] = parseInt(getStyle(obj, attr)) + iSpeed + 'px';
				}

			}, 30)
		}

		window.onload = function () {
			var aDiv = document.getElementsByTagName('div');

			aDiv[0].onmouseover = function () {
				startMove(this, 'width', 300)
			}

			aDiv[1].onmouseover = function () {
				startMove(this, 'height', 100)
			}

			aDiv[2].onmouseover = function () {
				startMove(this, 'borderWidth', 10)
			}
			aDiv[3].onmouseover = function () {
				startMove(this, 'fontSize', 100)
			}
			// for (var i = 0; i < aDiv.length; i++) {
			// 	aDiv[i].timmer = null;
			// 	aDiv[i].onmouseover = function () {
			// 		startMove(this, 300)
			// 	}

			// 	aDiv[i].onmouseout = function () {
			// 		startMove(this, 100)
			// 	}
			// }
		}
	</script>
</head>
<body>
	<div class="demo"></div>
	<div class="demo"></div>
	<div class="demo"></div>
	<div class="demo">sldjlasdjf</div>
</body>
</html>