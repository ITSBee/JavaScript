<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>JS18-运动02-无缝滚动</title>
	<style type="text/css">
		body, ul, img{
			margin: 0;
		}
		
		ul{
			padding: 0;
			list-style: none;
		}
		
		.banner{
			width: 720px;
			height: 140px;
			margin: 0 auto;
			overflow: hidden;
			position: relative;
		}
		.banner ul{
			position: absolute;
			left: 0; 
			/*width: 960px;*/
			height: 140px;
		}
		.banner li{
			float: left;
		}
		#btn01, #btn02{
			width: 30px;
			height: 30px;
			position: absolute;
			top: 50%;
			margin-top: -15px;
		}

		#btn01{
			background: url(images/icon_control.png) no-repeat;
			left: 20px;
		}
		#btn01:hover{
			background: url(images/icon_control.png) no-repeat 0 -30px;
		}
		#btn02{
			background: url(images/icon_control.png) no-repeat -30px 0;
			right: 20px;
		}
		#btn02:hover{
			background: url(images/icon_control.png) no-repeat -30px -30px;
		}
		
	</style>
	<script type="text/javascript">
		window.onload = function () {
			var oDiv = document.getElementById('banner');
			var oUl = oDiv.getElementsByTagName('ul')[0];
			var aLi = oUl.getElementsByTagName('li');
			var oBtn = document.getElementsByTagName('a');
			var timmer = null;
			var Speed = -5;

			oUl.innerHTML += oUl.innerHTML;
			oUl.style.width = aLi[0].offsetWidth * aLi.length + 'px';
			// alert(oUl.style.width);
			timmer = setInterval(function () {
				oUl.style.left = oUl.offsetLeft + Speed + 'px';
				if (oUl.offsetLeft < -oUl.offsetWidth/2) {
					oUl.style.left = '0';
				}else if(oUl.offsetLeft > 0){
					oUl.style.left = -oUl.offsetWidth/2 + 'px';
				}
			}, 30)

			oBtn[0].onmouseover = function () {
				Speed = -5;
			}
			oBtn[1].onmouseover = function () {
				Speed = 5;
			}

			oUl.onmouseover = function () {
				clearInterval(timmer)
			}
			oUl.onmouseout = function () {
				timmer = setInterval(function () {
				oUl.style.left = oUl.offsetLeft + Speed + 'px';
				if (oUl.offsetLeft < -oUl.offsetWidth/2) {
					oUl.style.left = '0';
				}else if(oUl.offsetLeft > 0){
					oUl.style.left = -oUl.offsetWidth/2 + 'px';
				}
			}, 30)
			}
		};
	</script>
</head>
<body>

	<div class="banner" id="banner">
		<ul>
			<li><img src="images/tb01.jpg"></li>
			<li><img src="images/tb02.jpg"></li>
			<li><img src="images/tb03.jpg"></li>
			<li><img src="images/tb04.jpg"></li>
		</ul>
		<a href="#" id="btn01"></a>
		<a href="#" id="btn02"></a>
	</div>

</body>
</html>